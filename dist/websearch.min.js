/* Licensed under MIT License (MIT) Copyright (c) 2015 Manuel RÃ¼lke (@homecoded ), see https://github.com/homecoded/websearch.js */
!function(){function e(e){function n(e,n){if("function"!=typeof n)throw new Error(w.NO_CALLBACK);return o()?(n(w.ONGOING_SEARCH_INTERRUPTED),void 0):(s=e,d=n,t()&&u(),void 0)}function o(){return""!==s&&null!==d}function t(){return"undefined"!=typeof window.google&&"undefined"!=typeof window.google.load&&null!==f}function l(){null===h&&(h=document.createElement("script"),h.type="text/javascript",h.onload=r,h.src=i,document.body.appendChild(h))}function r(){google.load("search","1",{callback:a})}function a(){var n=google.search[e];f=new n,f.setNoHtmlGeneration(),f.setResultSetSize(google.search.Search.LARGE_RESULTSET),c()}function c(){o()&&u()}function u(){f.setSearchCompleteCallback(this,function(){var e={};e.term=s,e.urls=[];for(var n in f.results)if(f.results.hasOwnProperty(n)){var o=f.results[n].url;e.urls.push(decodeURIComponent(o))}var t=d;s=null,d=null,t(null,e)},null),f.execute(s)}var i="http://www.google.com/jsapi",s="",d=null,f=null,h=null,w={ONGOING_SEARCH_INTERRUPTED:"You must not start a search while another is still ongoing",NO_CALLBACK:"No callback specified when calling search"},p=setInterval(function(){"complete"===document.readyState&&(clearInterval(p),t()||l())},10);return{search:n}}var n=e("WebSearch"),o=e("BookSearch");"undefined"!=typeof window&&(window.webSearchJs=n,window.bookSearchJs=o)}();