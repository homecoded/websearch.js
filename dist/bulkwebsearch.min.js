/* Licensed under MIT License (MIT) Copyright (c) 2015 Manuel RÃ¼lke (@homecoded ), see https://github.com/homecoded/websearch.js */
!function(){var e=function(){function e(){h=[],d=[],l=null,p=[],m=0,v=0}function n(e){p.push(e)}function t(e,n){r(e,n),a()}function r(e,n){if(0===p.length)throw new Error("No searcher added. Please use addSearcher() to add a searcher");if(!e||0===e.length)return n("No search terms specified",d),void 0;for(var t={onSearchDone:n,tasks:[]},r=e.length-1;r>=0;r--)for(var o=0;o<p.length;o++){var u={searcher:p[o],term:e[r]};t.tasks.push(u)}h.push(t)}function o(){var e=f();return"undefined"!=typeof e&&e.tasks.length>0}function u(){h.shift(),d=[]}function a(){if(o()||u(),h.length>0&&!i()){l=f().tasks.pop();var e=m+Math.random()*(v-m),n=function(){l.searcher.search(l.term,s)};setTimeout(n,e)}}function s(e,n){d.push(n),l=null;var t=f();0===t.tasks.length&&t.onSearchDone(e,d),setTimeout(a,0)}function f(){return h[0]}function i(){return null!==l}function c(e,n){m=e,v=n}var h,d,l,p,m,v;return e(),{search:t,addSearcher:n,reset:e,setDelayRange:c}}();"undefined"!=typeof module&&"undefined"!=typeof module.exports&&(module.exports=e),"undefined"!=typeof window&&(window.bulkWebSearchJs=e)}();